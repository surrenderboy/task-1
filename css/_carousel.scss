$carousel-item-width: 304px;
$carousel-side-margin: 20px;

@mixin carousel_items($carousel-item-width) {
  @for $i from 2 through 4 {
    .carousel_items_#{$i} {
      $total-item-width: $carousel-item-width + $carousel-side-margin*2;
      $total-width: $total-item-width * $i;

      @for $j from 0 through $i - 1 {
        .carousel__dot:checked {
          &:nth-of-type(#{$j + 1}) ~ .carousel__slider {
            left: ($total-width - $total-item-width) / 2 - $total-item-width * $j;
          }
        }
      }
    }
  }
}

.carousel {
  overflow: hidden;

  display: flex;
  flex-flow: row wrap-reverse;
  justify-content: center;
}

.carousel__slider {
  display: flex;

  position: relative;

  transition: left 0.4s;
}

.carousel__item {
  margin: 0 $carousel-side-margin;
  width: $carousel-item-width;
}

.carousel__dot {
  width: 8px;
  height: 8px;

  background: #DD3E18;

  border-radius: 50%;

  margin: 24px 12px 0 12px;

  &:checked {
    background: #000000;
  }
}

@include carousel_items($carousel-item-width);


@media only screen and (min-width: 768px) {
  $carousel-item-width: 704px;

  .carousel__item {
    width: $carousel-item-width;
  }

  @include carousel_items($carousel-item-width);

  .carousel_disable_tablet {
    .carousel__slider {
      position: static;
    }
    .carousel__item {
      margin: 0;
    }
    .carousel__dot { display: none; }
  }
}
